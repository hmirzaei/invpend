<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
  <head>
    <meta http-equiv="content-type" content="text/html;
      charset=windows-1252">
    <title>I/O Control Demo 1</title>
    <script language="JavaScript">
<!--
function toggle_led()
{
  var req = false;
  var led = false;
  function ledComplete() {
    if(led.readyState == 4) {
      if(led.status == 200) {
        document.getElementById("ledstate").innerHTML = "<div>" + led.responseText + "</div>";
      }
    }
  }
  if(window.XMLHttpRequest) {
    req = new XMLHttpRequest();
    led = new XMLHttpRequest();
  } else if(window.ActiveXObject) {
    req = new ActiveXObject("Microsoft.XMLHTTP");
    led = new ActiveXObject("Microsoft.XMLHTTP");
  }
  if(req) {
    req.open("GET", "/cgi-bin/toggle_led?id" + Math.random(), true);
    req.send(null);
  }
  if(led) {
    led.open("GET", "/ledstate?id=" + Math.random(), true);
    led.onreadystatechange = ledComplete;
    led.send(null);
  }
}

function ledstateGet()
{
  var led = false;
  function ledComplete() {
    if(led.readyState == 4) {
      if(led.status == 200) {
        document.getElementById("ledstate").innerHTML = "<div>" + led.responseText + "</div>";
      }
    }
  }
  if(window.XMLHttpRequest) {
    led = new XMLHttpRequest();
  } else if(window.ActiveXObject) {
    led = new ActiveXObject("Microsoft.XMLHTTP");
  }
  if(led) {
    led.open("GET", "/ledstate?id=" + Math.random(), true);
    led.onreadystatechange = ledComplete;
    led.send(null);
  }
}
//-->
</script>
    <style type="text/css">
body
{
font-family: Arial;
background-color: white;
margin: 10px;
padding: 0px
}
h1
{
color: #7C7369;
font-family: Arial;
font-size: 24pt;
font-style: italic;
}
h2
{
color: #000000;
font-family: Arial;
font-size: 18pt;
font-style: bold;
}
h3
{
color: #7C7369;
font-family: Arial;
font-size: 12pt;
font-style: bold;
}
</style>
  </head>
  <body
    onload="ledstateGet();">
    <br>
    <table>
      <tbody>
        <tr>
          <td><input id="toggle" value="Toggle LED"
              onclick="toggle_led()" type="button"></td>
          <td>STATUS LED:</td>
          <td>
            <div id="ledstate" align="center"> - </div>
          </td>
        </tr>
      </tbody>
    </table>
  </body>
</html>
